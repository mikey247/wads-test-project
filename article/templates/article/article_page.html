{% extends "base.html" %}

{% load shortcodes wagtailcore_tags wagtailimages_tags %}

{% block body_class %}template-articlepage{% endblock %}

{% block content %}
    <div class="meta">
      <p>{{ page.date }}</p>
      <p>{{ page.author }}</p>
    </div>

    <article>
      <small>{% shortcodes page.intro %}</small>
      {% for block in page.body %}
        {% if block.block_type == 'heading' %}
          <h2>{{ block.value }}</h2>
	{% elif block.block_type == 'paragraph' %}
	  {% shortcodes block %}
        {% else %}
	  {% include_block block %}
        {% endif %}
      {% endfor %}
    </article>

    {% if page.tags.all.count %}
        <div class="tags" style="clear: both;">
	    <h2>Tags</h2>
	    {% for tag in page.tags.all %}
	        <a href="{% slugurl 'tags' %}?tag={{ tag }}"><button class="btn btn-primary btn-round btn-sm">{{ tag }}</button></a>
	    {% endfor %}
	</div>
    {% endif %}

    <p><a href="{{ page.get_parent.url }}">Return to article index</a></p>

{% endblock %}
